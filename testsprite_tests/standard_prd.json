{
  "meta": {
    "project": "EDulearn - SmartLearn MVP",
    "date": "2025-12-10",
    "prepared_by": "Development Team"
  },
  "product_overview": "EDulearn is an advanced e-learning platform designed for educational institutions, offering centralized course management, multimedia content delivery, and role-based access control to enhance teaching and learning experiences.",
  "core_goals": [
    "Provide a centralized platform to manage courses, content, and assignments efficiently.",
    "Implement granular role-based access control for Super Admin, Admin, Teacher, Student, and Guardian roles.",
    "Enable comprehensive content library management supporting PDFs and videos.",
    "Facilitate seamless student engagement through dashboards, progress tracking, and assignment workflows.",
    "Ensure administrative oversight with user management, enrollment control, and system monitoring."
  ],
  "key_features": [
    "Robust authentication and authorization system with registration, session management, and admin approval workflow.",
    "Role-specific dashboards providing analytics and quick access features for all user types.",
    "Comprehensive course management including creation, editing, module and materials management, and a guided course wizard.",
    "Dynamic content library supporting book and video uploads, viewing, metadata management, and thumbnail handling.",
    "Assignment system supporting creation, submission, grading, and detailed tracking for students and teachers.",
    "Extensive user management capabilities employing CRUD operations, role assignments, and permission controls.",
    "Enrollment management supporting self-enrollment, bulk and admin-driven enrollments.",
    "Advanced permission system with role- and module-based controls for fine-grained access.",
    "System monitoring tools offering performance analytics and health indicators.",
    "Full site content management for landing pages and themes.",
    "Dark/light theming with responsive and accessible UI components."
  ],
  "user_flow_summary": [
    "User registration and login via /auth, with validation, role assignment, and pending approval workflow.",
    "Role-based navigation directing users to their customized dashboards post-login.",
    "Students enroll in courses either by self-enrollment or through admin/teacher enrollment, then access course content.",
    "Teachers create and manage lessons, attendances, assignments, and grade submissions via dedicated interfaces.",
    "Admins manage users, assign roles and permissions, create courses, enroll students, and configure system content.",
    "Library content is uploaded by authorized roles and associated with courses for student access.",
    "Assignment submission by students followed by grading and feedback by teachers.",
    "Guardian users monitor linked students' progress and assignments with read-only access."
  ],
  "validation_criteria": [
    "All user actions are restricted based on authentication status and role permissions.",
    "Course creation, editing, and material management accessible only to users with proper permissions.",
    "Library content upload and management limited to authorized roles with required permissions.",
    "Enrollment actions validated for user role and course enrollment policies.",
    "Assignment creation, submission, and grading adhere to roles and assignment states.",
    "System monitoring accessible only to admins and super admins.",
    "Session management maintains secure token storage and auto-refresh functionality.",
    "UI complies with accessibility standards and performs responsively across devices.",
    "APIs integrate correctly with Supabase for all CRUD, auth, and real-time features.",
    "Testing coverage meets specified goals across unit, integration, E2E, and accessibility tests."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 18.3.1",
      "Vite",
      "React Router DOM v6",
      "Supabase (PostgreSQL, Auth, Storage, Realtime)",
      "TanStack Query (React Query) v5",
      "shadcn-ui (Radix UI)",
      "Tailwind CSS",
      "React Hook Form",
      "Zod",
      "PDF.js",
      "react-easy-crop",
      "date-fns",
      "Lucide React",
      "Recharts"
    ],
    "features": [
      {
        "name": "Authentication & Authorization",
        "description": "User authentication, registration, session management, role-based access control, and permission system",
        "files": [
          "src/lib/auth.tsx",
          "src/pages/Auth.tsx",
          "src/components/ProtectedRoute.tsx",
          "src/pages/PendingApproval.tsx",
          "src/pages/ProfileCompletion.tsx"
        ]
      },
      {
        "name": "Dashboard System",
        "description": "Role-based dashboards for Admin, Teacher, Student, and Guardian with analytics and statistics",
        "files": [
          "src/pages/Dashboard.tsx",
          "src/pages/dashboard/AdminDashboard.tsx",
          "src/pages/dashboard/TeacherDashboard.tsx",
          "src/pages/dashboard/StudentDashboard.tsx",
          "src/pages/dashboard/GuardianDashboard.tsx"
        ]
      },
      {
        "name": "Course Management",
        "description": "Course creation, editing, module management, materials management, and course wizard",
        "files": [
          "src/pages/Courses.tsx",
          "src/pages/CourseDetail.tsx",
          "src/pages/admin/CreateCourse.tsx",
          "src/pages/admin/EditCourse.tsx",
          "src/pages/admin/CourseModules.tsx",
          "src/pages/admin/CourseMaterials.tsx",
          "src/pages/admin/CourseWizard.tsx",
          "src/components/course/CourseHeader.tsx",
          "src/components/course/CourseOverview.tsx",
          "src/components/course/CourseCurriculum.tsx",
          "src/components/course/CourseResources.tsx",
          "src/components/course/CourseReviews.tsx",
          "src/components/course/CourseSidebar.tsx",
          "src/components/course/EnrolledStudents.tsx",
          "src/components/course/LibrarySelector.tsx",
          "src/components/course/AttachedLibraryItems.tsx"
        ]
      },
      {
        "name": "Enrollment Management",
        "description": "Student enrollment in courses, bulk enrollment, teacher assignment, and enrollment tracking",
        "files": [
          "src/pages/admin/EnrollmentManagement.tsx",
          "src/pages/admin/ContentAssignments.tsx"
        ]
      },
      {
        "name": "Library System",
        "description": "Content library for books (PDF) and videos, upload functionality, viewing, and management",
        "files": [
          "src/pages/Library.tsx",
          "src/pages/library/UploadContent.tsx",
          "src/pages/library/BookDetail.tsx",
          "src/pages/library/VideoDetail.tsx",
          "src/components/library/FileDropzone.tsx",
          "src/components/library/PDFViewer.tsx",
          "src/components/library/VideoPlayer.tsx",
          "src/components/library/VideoPlayerModal.tsx",
          "src/components/library/ImageCropper.tsx",
          "src/components/library/ThumbnailUpload.tsx",
          "src/components/library/EditBookDialog.tsx",
          "src/components/library/EditVideoDialog.tsx"
        ]
      },
      {
        "name": "Video Player System",
        "description": "Smart video player with YouTube/Vimeo detection, embedding, direct video playback, and progress tracking",
        "files": [
          "src/components/course/SmartVideoPlayer.tsx",
          "src/components/library/VideoPlayer.tsx",
          "src/components/library/VideoPlayerModal.tsx",
          "src/hooks/useVideoProgress.ts"
        ]
      },
      {
        "name": "Assignment System",
        "description": "Assignment creation, submission, grading, and management for teachers and students",
        "files": [
          "src/pages/admin/AssignmentManagement.tsx",
          "src/pages/admin/AssignmentSubmissions.tsx",
          "src/pages/student/StudentAssignments.tsx"
        ]
      },
      {
        "name": "User Management",
        "description": "User CRUD operations, role assignment, permission management, and profile management",
        "files": [
          "src/pages/admin/UserManagement.tsx",
          "src/pages/Profile.tsx",
          "src/pages/admin/SuperAdminManagement.tsx"
        ]
      },
      {
        "name": "Teacher Features",
        "description": "Teacher-specific features including student management, lesson management, and attendance tracking",
        "files": [
          "src/pages/teacher/StudentManagement.tsx",
          "src/pages/teacher/LessonManagement.tsx",
          "src/pages/teacher/AttendanceManagement.tsx"
        ]
      },
      {
        "name": "Category Management",
        "description": "Content and course category management system",
        "files": [
          "src/pages/admin/CategoryManagement.tsx",
          "src/components/CategoryMultiSelect.tsx"
        ]
      },
      {
        "name": "Permission System",
        "description": "Module-based permission system with role and user-level permissions",
        "files": [
          "src/components/permissions/PermissionMatrixCard.tsx",
          "src/components/permissions/MobilePermissionCard.tsx",
          "src/lib/auth.tsx"
        ]
      },
      {
        "name": "System Monitoring",
        "description": "System health monitoring, analytics, and performance tracking for admins",
        "files": [
          "src/pages/admin/SystemMonitoring.tsx"
        ]
      },
      {
        "name": "Site Content Management",
        "description": "CMS system for managing landing page content, themes, and site settings",
        "files": [
          "src/pages/admin/SiteContent.tsx",
          "src/pages/Landing.tsx"
        ]
      },
      {
        "name": "Navigation & Routing",
        "description": "Application routing, navigation components, and route protection",
        "files": [
          "src/App.tsx",
          "src/components/Navbar.tsx",
          "src/components/NavLink.tsx",
          "src/components/ProtectedRoute.tsx"
        ]
      },
      {
        "name": "Theme System",
        "description": "Dark/light theme support with theme context and theme switching",
        "files": [
          "src/contexts/ThemeContext.tsx"
        ]
      },
      {
        "name": "UI Component Library",
        "description": "Comprehensive shadcn-ui component library with 50+ reusable components",
        "files": [
          "src/components/ui/button.tsx",
          "src/components/ui/input.tsx",
          "src/components/ui/card.tsx",
          "src/components/ui/dialog.tsx",
          "src/components/ui/table.tsx",
          "src/components/ui/form.tsx",
          "src/components/ui/select.tsx",
          "src/components/ui/toast.tsx",
          "src/components/ui/avatar.tsx",
          "src/components/ui/badge.tsx",
          "src/components/ui/progress.tsx",
          "src/components/ui/tabs.tsx",
          "src/components/ui/alert.tsx",
          "src/components/ui/alert-dialog.tsx",
          "src/components/ui/dropdown-menu.tsx",
          "src/components/ui/popover.tsx",
          "src/components/ui/tooltip.tsx",
          "src/components/ui/sheet.tsx",
          "src/components/ui/drawer.tsx",
          "src/components/ui/accordion.tsx",
          "src/components/ui/checkbox.tsx",
          "src/components/ui/radio-group.tsx",
          "src/components/ui/textarea.tsx",
          "src/components/ui/switch.tsx",
          "src/components/ui/slider.tsx",
          "src/components/ui/calendar.tsx",
          "src/components/ui/chart.tsx",
          "src/components/ui/breadcrumb.tsx",
          "src/components/ui/navigation-menu.tsx",
          "src/components/ui/pagination.tsx",
          "src/components/ui/separator.tsx",
          "src/components/ui/skeleton.tsx",
          "src/components/ui/aspect-ratio.tsx",
          "src/components/ui/carousel.tsx",
          "src/components/ui/collapsible.tsx",
          "src/components/ui/command.tsx",
          "src/components/ui/context-menu.tsx",
          "src/components/ui/hover-card.tsx",
          "src/components/ui/input-otp.tsx",
          "src/components/ui/label.tsx",
          "src/components/ui/menubar.tsx",
          "src/components/ui/resizable.tsx",
          "src/components/ui/scroll-area.tsx",
          "src/components/ui/sidebar.tsx",
          "src/components/ui/sonner.tsx",
          "src/components/ui/toaster.tsx",
          "src/components/ui/toggle.tsx",
          "src/components/ui/toggle-group.tsx"
        ]
      },
      {
        "name": "Utility Functions",
        "description": "Helper functions, utilities, and shared logic",
        "files": [
          "src/lib/utils.ts",
          "src/lib/pdfThumbnail.ts",
          "src/hooks/use-toast.ts",
          "src/hooks/use-mobile.tsx",
          "src/hooks/useVideoProgress.ts",
          "src/integrations/supabase/client.ts",
          "src/integrations/supabase/types.ts"
        ]
      },
      {
        "name": "Star Rating Component",
        "description": "Reusable star rating component for courses and content",
        "files": [
          "src/components/StarRating.tsx"
        ]
      },
      {
        "name": "Error Handling",
        "description": "404 page and error handling components",
        "files": [
          "src/pages/NotFound.tsx"
        ]
      }
    ]
  }
}
